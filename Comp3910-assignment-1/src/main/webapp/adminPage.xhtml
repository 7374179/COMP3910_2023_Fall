<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html">

<head>
<title>Timesheet Entry</title>
</head>

<body>
	<ui:composition template="/templates/masterLayout.xhtml">
		<ui:define name="windowTitle">
            #{msgs.pageTitle}
         </ui:define>

		<ui:define name="heading">
			<ui:include src="/sections/header.xhtml" />
		</ui:define>

		<ui:define name="navPane">
			<div id="navPane">
				<ui:include src="/sections/navPane.xhtml" />
			</div>
		</ui:define>

		<ui:define name="content">
			<h:form>
				<div id="content">

					<p:dataTable var="employee" value="#{employeeManager.employees}"
						editable="true" id="timesheetTable">
						<p:column style="width:50px">
							<p:rowEditor />
						</p:column>
						<p:column headerText="Name">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{employee.name}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{employee.name}" />
								</f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="ID">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{employee.empNumber}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{employee.empNumber}" />

								</f:facet>
							</p:cellEditor>
						</p:column>

						<p:column headerText="Username">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{employee.userName}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{employee.userName}" />
								</f:facet>
							</p:cellEditor>
						</p:column>

						<p:column headerText="Password">
							<p:cellEditor>
								<f:facet name="output">
									<h:outputText value="#{employeeManager.getPasswordForUser(employee.userName)}" />
								</f:facet>
								<f:facet name="input">
									<h:inputText value="#{employee.userName}" />
								</f:facet>
							</p:cellEditor>
						</p:column>


						<p:column>
							<h:commandLink value="Delete"
								action="#{employeeManager.deleteEmployee(employee)}"
								update="timesheetTable" />
						</p:column>


						<f:facet name="footer">
							<h:commandButton
								action="#{tsController.save(empController.getCurrentTimesheet())}"
								value="Save" />
							<h:commandButton
								action="#{employeeManager.addEmployee(employee)}" value="Add"
								update="timesheetTable" />
						</f:facet>
					</p:dataTable>

				</div>

			</h:form>
		</ui:define>
	</ui:composition>
</body>
</html>